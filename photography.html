<!DOCTYPE html>
<html>
  <link rel="stylesheet" href="https://use.typekit.net/hay4ffs.css" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
  />
  <link
    href="https://fonts.googleapis.com/icon?family=Material+Icons"
    rel="stylesheet"
  />
  <link href="styles.css" rel="stylesheet" />
  <body>
    <div class="header">
      <a href="index.html" class="back">
        <i class="material-icons">
          arrow_back
        </i>
      </a>
      <h2 class="title">PHOTOGRAPHY</h2>
    </div>
    <div id="images"></div>
    <div class="footer unloaded">
      <p class="grid-header">CONTACT</p>

      <a href="http://linkedin.com/in/dante-m-tobar">
        <i style="font-size:24px" class="fa">&#xf0e1;</i>
        <p>linkedin.com/in/dante-m-tobar</p>
      </a>
      <a href="http://github.com/tuna-melt">
        <i style="font-size:24px" class="fa">&#xf09b;</i>
        <p>github.com/tuna-melt</p>
      </a>
      <a>
        <i class="material-icons">
          email
        </i>
        <p>dante.m.tobar@gmail.com</p>
      </a>
      <a>
        <i class="material-icons">
          smartphone
        </i>
        <p>(213) 448 - 2881</p>
      </a>
    </div>
  </body>
  <script>
    const images = document.querySelector('#images');
    const footer = document.querySelector('.footer');
    const baseURL = 'https://tobar-portfolio.s3-us-west-1.amazonaws.com/';
    const imageURLs = [
      'sandm.jpg',
      'educatedboys.jpg',
      'vanillasky.jpg',
      'antonforegg.jpg',
      'britforegg.jpg',
      'seanforegg.jpg',
      'hoho3.jpg',
      'hoho1.jpg',
      'hoho2.jpg',
      'tonpromo.jpg',
      'sean1.jpg',
      'rcpromo.jpg',
      'mark.jpg',
      'mario.jpg',
      'dorthy.jpg',
      'cow.jpg',
      'sauciego.jpg',
      'hightide.jpg',
      'ohoh1.jpg',
      'ohoh2.jpg',
      'ohoh3.jpg',
      'jer1.jpg',
      'jarr2.jpg',
      'jerr3.jpg',
    ];
    images.innerHTML = imageURLs
      .map(url => {
        return `<img src='${baseURL + url}'>`;
      })
      .join('');

    const bufferSetUp = async () => {
      const imageTags = await document.querySelectorAll('img');

      let loadedCount = 0;
      const loaded = () => {
        loadedCount += 1;

        if (loadedCount === imageURLs.length) {
          imageTags.forEach(tag => {
            tag.classList.add('loaded');
          });
          footer.classList = 'footer loaded';
        }
      };

      imageTags.forEach(tag => {
        tag.addEventListener('load', loaded);
      });
    };

    bufferSetUp();
  </script>
</html>
